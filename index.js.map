{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import Axios from 'axios';\n\nconst axios = Axios.create({\n  baseURL: 'https://pixabay.com/api/',\n  params: {\n    key: '50386790-558288da927f62b3f4194a21d',\n  },\n});\n\nexport default function getImagesByQuery(query) {\n  return axios\n    .get('', {\n      params: {\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => {\n      return response.data.hits;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nconst imagesList = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nfunction IMGelement(\n  comments,\n  likes,\n  views,\n  downloads,\n  largeImageURL,\n  webformatURL,\n  tags\n) {\n  return `\n        <li class=\"card\">\n          <div class=\"img-container\">\n            <a href=\"${largeImageURL}\">\n              <img class=\"card-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            </a>\n          </div>\n          <ul class=\"card-stats\">\n            <li><b>Likes</b><span>${likes}</span></li>\n            <li><b>Views</b><span>${views}</span></li>\n            <li><b>Comments</b><span>${comments}</span></li>\n            <li><b>Downloads</b><span>${downloads}</span></li>\n          </ul>\n        </li>\n    `;\n}\n\nfunction IMGelements(imgs) {\n  return imgs\n    .map(elem => {\n      const {\n        comments,\n        likes,\n        views,\n        downloads,\n        largeImageURL,\n        webformatURL,\n        tags,\n      } = elem;\n      return IMGelement(\n        comments,\n        likes,\n        views,\n        downloads,\n        largeImageURL,\n        webformatURL,\n        tags\n      );\n    })\n    .join('\\n');\n}\n\nfunction clearGallery() {\n  imagesList.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.add('is-visible');\n}\nexport function hideLoader() {\n  loader.classList.remove('is-visible');\n}\n\nexport function createGallery(imgArr) {\n  clearGallery();\n  imagesList.innerHTML = IMGelements(imgArr);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.card a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n","import getImagesByQuery from './js/pixabay-api';\nimport { createGallery, showLoader, hideLoader } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n//!=============================================================\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const formText = e.target.elements['search-text'].value.trim();\n\n  if (!formText) return;\n\n  showLoader();\n\n  getImagesByQuery(formText)\n    .then(hits => {\n      if (!hits.length) {\n        iziToast.error({\n          title: 'Error',\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n        });\n      }\n      createGallery(hits);\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: `${error}`,\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n\n  form.reset();\n});\n"],"names":["axios","Axios","getImagesByQuery","query","response","lightbox","imagesList","loader","IMGelement","comments","likes","views","downloads","largeImageURL","webformatURL","tags","IMGelements","imgs","elem","clearGallery","showLoader","hideLoader","createGallery","imgArr","SimpleLightbox","form","e","formText","hits","iziToast","error"],"mappings":"owBAEA,MAAMA,EAAQC,EAAM,OAAO,CACzB,QAAS,2BACT,OAAQ,CACN,IAAK,oCACN,CACH,CAAC,EAEc,SAASC,EAAiBC,EAAO,CAC9C,OAAOH,EACJ,IAAI,GAAI,CACP,OAAQ,CACN,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKC,GACGA,EAAS,KAAK,IACtB,CACL,CCnBA,IAAIC,EAEJ,MAAMC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,EACPC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACA,CACA,MAAO;AAAA;AAAA;AAAA,uBAGcF,CAAa;AAAA,6CACSC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA,oCAInCL,CAAK;AAAA,oCACLC,CAAK;AAAA,uCACFF,CAAQ;AAAA,wCACPG,CAAS;AAAA;AAAA;AAAA,KAIjD,CAEA,SAASI,EAAYC,EAAM,CACzB,OAAOA,EACJ,IAAIC,GAAQ,CACX,KAAM,CACJ,SAAAT,EACA,MAAAC,EACA,MAAAC,EACA,UAAAC,EACA,cAAAC,EACA,aAAAC,EACA,KAAAC,CACD,EAAGG,EACJ,OAAOV,EACLC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACR,CACA,CAAK,EACA,KAAK;AAAA,CAAI,CACd,CAEA,SAASI,GAAe,CACtBb,EAAW,UAAY,EACzB,CAEO,SAASc,GAAa,CAC3Bb,EAAO,UAAU,IAAI,YAAY,CACnC,CACO,SAASc,GAAa,CAC3Bd,EAAO,UAAU,OAAO,YAAY,CACtC,CAEO,SAASe,EAAcC,EAAQ,CACpCJ,IACAb,EAAW,UAAYU,EAAYO,CAAM,EAEpClB,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAImB,EAAe,UAAW,CACvC,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CC5EA;AAEA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAK,CACnCA,EAAE,eAAc,EAEhB,MAAMC,EAAWD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAEnDC,IAELP,IAEAlB,EAAiByB,CAAQ,EACtB,KAAKC,GAAQ,CACPA,EAAK,QACRC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACnB,CAAS,EAEHP,EAAcM,CAAI,CACxB,CAAK,EACA,MAAME,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,GAAGC,CAAK,EACzB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbT,GACN,CAAK,EAEHI,EAAK,MAAK,EACZ,CAAC"}